{% extends "base.html" %}

{% block poster %}
    {% if tag.poster %}
    <!-- poster -->
    <section class="poster">
        <div class="poster-content" style="background-image: url({{ tag.get_poster.url }});"></div>
    </section>
    <!-- /poster -->
    {% endif %}
{% endblock %}

{% block external_title %}
<!-- result-of-search -->
<div class="result-of-search">
    <h4>Записи с меткой {{ tag.name }}</h4>
</div>
<!-- /result-of-search -->
{% endblock %}

{% block content %}
{% for post in posts %}
<!-- post -->
<div class="post">
    <header>
        <div class="meta">
            <div class="meta-block author-photo">
                <a href="{{ post.author.get_url }}"><img src="{{ post.author.photo }}" alt=""></a>
            </div>
            <div class="meta-block author-and-time">
                <a href="{{ post.author.get_url }}" class="author-name">{{ post.author.name }}</a>
                <time>{{ post.date.date }}</time>
            </div>
            <nav class="meta-block tags">
                {% for tag in post.tags.all %}
                    <a href="{{ tag.get_url }}">{{ tag }}</a>
                {% endfor %}
            </nav>
        </div>
        <a href="{{ post.get_url }}" class="poster-small"
            style="background-image: url({{ post.get_poster.url }});"></a>
        <h2 class="post-title">
            <a href="{{ post.get_url }}" class="preview-link">{{ post.title }}</a>
        </h2>
    </header>
    <article class="post-content">
        <a href="{{ post.get_url }}" class="preview-link">{{ post.get_short_content }}</a>
    </article>
</div>
<!-- /post -->
{% endfor %}
{% endblock content %}
