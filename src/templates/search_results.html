{% extends "base.html" %}

{% block external_title %}
<!-- result-of-search -->
<div class="result-of-search">
    <h4>Записи по запросу {{ q }}</h4>
</div>
<!-- /result-of-search -->
{% endblock %}

{% block content %}
{% for post in posts %}
<!-- post -->
<div class="post">
    <header>
        <div class="meta">
            <div class="meta-block author-photo">
                <a href="{{ post.author.get_url }}"><img src="{{ post.author.photo }}" alt=""></a>
            </div>
            <ul class="meta-block author-and-time">
                <li><a href="{{ post.author.get_url }}" class="author-name">{{ post.author.name }}</a></li>
                <li><time>{{ post.date.date }}</time></li>
            </ul>
            <nav class="meta-block tags">
                {% for tag in post.tags.all %}
                    <a href="{{ tag.get_url }}">{{ tag }}</a>
                {% endfor %}
            </nav>
        </div>
        <a href="{{ post.get_url }}" class="poster-small"
            style="background-image: url({{ post.get_poster.url }});"></a>
    </header>
    <article class="post-preview">
        <a href="{{ post.get_url }}" class="preview-link">
            <h2 class="article-title">{{ post.title }}</h2>
            <article>
                {{ post.get_short_content }}
            </article>
        </a>
    </article>
</div>
<!-- /post -->
{% endfor %}
{% endblock content %}
